ğŸ” Fetching conversation data for ID: db460260-7381-45d8-b7cb-52a437596798 Type: string
ğŸ”” Setting up realtime subscription for conversation: db460260-7381-45d8-b7cb-52a437596798
ğŸ”• Cleaning up realtime subscription
ğŸ“¡ Realtime subscription status: CLOSED
ğŸ”” Setting up realtime subscription for conversation: db460260-7381-45d8-b7cb-52a437596798
Personas fetched from Supabase: 
(6) [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
âœ… Conversation and messages loaded: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", messageCount: 1}
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Loading vocabulary dictionary from Supabase...
Module "path" has been externalized for browser compatibility. Cannot access "path.join" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.
ğŸ” Loading vocabulary dictionary from Supabase...
Failed to initialize conjugation normalizer: 
TypeError {}

Error tracking vocabulary usage: 
TypeError {}

Error tracking vocabulary usage: 
TypeError {}

âŒ Supabase vocabulary loading error: 
Object {code: "42P01", details: null, hint: null, message: "relation "public.jlpt_vocab" does not exist"}

âŒ Failed to load vocabulary from Supabase: 
Object {code: "42P01", details: null, hint: null, message: "relation "public.jlpt_vocab" does not exist"}

âŒ Supabase vocabulary loading error: 
Object {code: "42P01", details: null, hint: null, message: "relation "public.jlpt_vocab" does not exist"}

âŒ Failed to load vocabulary from Supabase: 
Object {code: "42P01", details: null, hint: null, message: "relation "public.jlpt_vocab" does not exist"}

ğŸ”„ Cache mismatch detected - DB has messages but cache is empty, refetching...
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ”§ Initializing cache structure before optimistic update
âœ… Adding optimistic message to cache
ğŸ“¤ Sending message to conversation: db460260-7381-45d8-b7cb-52a437596798
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined
ğŸ” Chat page - conversation data: 
Object {conversationId: "db460260-7381-45d8-b7cb-52a437596798", extractedPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", validPersonaId: "8b0f056c-41fb-4c47-baac-6029c64e026a", title: "Chat with Keiko|persona:8b0f056c-41fb-4c47-baac-6029c64e026a", scenarioId: null}
ğŸ” Found persona: Keiko Found scenario: undefined