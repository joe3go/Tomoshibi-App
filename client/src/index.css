@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/*==============================
  üéé Japanese-Inspired UI Theme
==============================*/
:root {
  /* Base Colors */
  --background: 220 36% 9%;
  --foreground: 0 0% 98%;
  --card: 220 36% 12%;
  --card-foreground: 0 0% 98%;
  --popover: 220 36% 12%;
  --popover-foreground: 0 0% 98%;

  /* Primary Colors */
  --primary: 350 72% 40%;
  --primary-foreground: 0 0% 100%;

  /* Secondary Colors */
  --secondary: 215 28% 17%;
  --secondary-foreground: 0 0% 98%;

  /* Muted Colors */
  --muted: 215 28% 17%;
  --muted-foreground: 215 20% 65%;

  /* Accent Colors */
  --accent: 215 28% 17%;
  --accent-foreground: 0 0% 98%;
  --accent-gold: 47 96% 53%;
  --accent-red: 350 72% 40%;

  /* Destructive Colors */
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;

  /* Borders */
  --border: 215 28% 17%;
  --input: 215 28% 17%;
  --ring: 350 72% 40%;

  /* Radius */
  --radius: 0.5rem;

  /* Chart Colors */
  --chart-1: 350 72% 40%;
  --chart-2: 47 96% 53%;
  --chart-3: 142 71% 45%;
  --chart-4: 217 91% 60%;
  --chart-5: 262 83% 58%;

  /* Sidebar Colors */
  --sidebar-background: 220 36% 7%;
  --sidebar-foreground: 0 0% 98%;
  --sidebar-primary: 350 72% 40%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 215 28% 15%;
  --sidebar-accent-foreground: 0 0% 98%;
  --sidebar-border: 215 28% 12%;
  --sidebar-ring: 350 72% 40%;
}

/*==============================
  üèÆ Base Styles
==============================*/
body {
  @apply bg-background text-foreground;
  background-image:
    linear-gradient(to bottom, hsl(var(--background)), hsl(var(--card))),
    url('../images/cherry_blossoms_bg.png');
  background-repeat: no-repeat;
  background-size: cover;
  background-attachment: fixed;
  background-blend-mode: overlay;
  font-family: "Noto Sans JP", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/*==============================
  üßß Component Styles
==============================*/
.gold-frame {
  @apply border border-accent-gold rounded-[var(--radius)] p-4 relative;
  box-shadow: 0 0 0 2px rgba(250, 204, 21, 0.1);
}

.gold-frame::before {
  @apply content-[''] absolute inset-0 pointer-events-none;
  border: 2px solid rgba(250, 204, 21, 0.25);
  border-radius: var(--radius);
}

.message-bubble {
  @apply py-3 px-4 mb-2 max-w-[75%] text-sm rounded-2xl;
}

.message-bubble.ai {
  @apply bg-card border border-border text-foreground;
  border-radius: 16px 16px 16px 4px;
}

.message-bubble.user {
  @apply bg-primary text-primary-foreground;
  border-radius: 16px 4px 16px 16px;
}

.progress-container {
  @apply bg-secondary rounded overflow-hidden h-3 w-full;
}

.progress-fill {
  @apply bg-primary h-full;
  transition: width 0.3s ease;
}

.content-card {
  @apply bg-card border border-accent-gold rounded-xl p-4;
  box-shadow: 0 0 0 1px rgba(250, 204, 21, 0.1);
}

/*==============================
  üéé Decorative Elements
==============================*/
.lantern-decoration {
  @apply absolute top-0 left-0 bg-contain w-[100px] h-[200px] z-10;
  background-image: url('../images/lantern.png');
}

.scrollbar-custom {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--accent-gold)) transparent;
}

.scrollbar-custom::-webkit-scrollbar {
  @apply w-2;
}

.scrollbar-custom::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.scrollbar-custom::-webkit-scrollbar-thumb {
  @apply bg-accent-gold rounded;
}

.bottom-nav {
  @apply flex justify-around bg-card border-t border-border py-2 text-sm text-muted-foreground;
}

.bottom-nav i {
  @apply text-accent-gold;
}

/*==============================
  üñ•Ô∏è Responsive Adjustments
==============================*/
@media (max-width: 768px) {
  .lantern-decoration {
    @apply w-[60px] h-[120px] opacity-70;
  }

  .gold-frame {
    @apply p-3;
  }

  .message-bubble {
    @apply max-w-[85%];
  }
}

/*==============================
  üåÄ Animations & Utilities
==============================*/
@keyframes shine {
  to {
    background-position-x: -200%;
  }
}

.loading-shimmer {
  @apply relative overflow-hidden;
}

.loading-shimmer::after {
  @apply content-[''] absolute inset-0;
  background: linear-gradient(110deg,
      hsl(var(--card)) 8%,
      hsl(var(--secondary)) 18%,
      hsl(var(--card)) 33%);
  background-size: 200% 100%;
  animation: 1.5s shine linear infinite;
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/*==============================
  üñ®Ô∏è Print Styles
==============================*/
@media print {
  body {
    @apply bg-white text-black;
  }

  .content-card {
    @apply border border-gray-300;
    break-inside: avoid;
  }

  .gold-frame,
  .lantern-decoration {
    @apply hidden;
  }
}